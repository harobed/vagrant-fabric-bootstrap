
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Vagrant + fabric bootstrap &mdash; Vagrant Fabric Bootstrap 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Vagrant Fabric Bootstrap 0.1.0 documentation" href="#" /> 
  </head>
  <body>
  
  
  <div class=indexwrapper>
  


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="vagrant-fabric-bootstrap">
<h1>Vagrant + fabric bootstrap<a class="headerlink" href="#vagrant-fabric-bootstrap" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/harobed/vagrant-fabric-bootstrap">vagrant-fabric-bootstrap</a> is <a class="reference external" href="http://stephane-klein.info">my</a>
my bootstrap to integrate <a class="reference external" href="http://www.vagrantup.com/">Vagrant</a> in my development projects.</p>
<p>This scaffolding contain :</p>
<ul class="simple">
<li>Debian Squeeze 64bit base box</li>
<li><a class="reference external" href="https://github.com/mosaicxm/vagrant-hostmaster">vagrant-hostmaster</a> parameters</li>
<li><a class="reference external" href="https://github.com/harobed/vagrant-fabric-bootstrap/blob/master/Vagrantfile#L18">provision</a> to append automatically
vagrant ssh public key to root account</li>
<li><a class="reference external" href="https://github.com/harobed/vagrant-fabric-bootstrap/blob/master/fabfile.py">fabfile</a> bootstrap</li>
<li>and <a class="reference external" href="http://www.buildout.org/">buildout</a> files</li>
</ul>
<p>More info : contact me at <a class="reference external" href="mailto:contact&#37;&#52;&#48;stephane-klein&#46;info">contact<span>&#64;</span>stephane-klein<span>&#46;</span>info</a></p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="on-ubuntu-12-10">
<h3>On Ubuntu 12.10<a class="headerlink" href="#on-ubuntu-12-10" title="Permalink to this headline">¶</a></h3>
<p>Prerequisites :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install virtualbox rubygem1.8
<span class="nv">$ </span>gem install vagrant
</pre></div>
</div>
</div>
</div>
<div class="section" id="quickstart">
<h2>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h2>
<p>Clone <a class="reference external" href="https://github.com/harobed/vagrant-fabric-bootstrap">vagrant-fabric-bootstrap</a> project :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>git clone https://github.com/harobed/vagrant-fabric-bootstrap.git
</pre></div>
</div>
<p>Install Python dependencies (<a class="reference external" href="http://docs.fabfile.org/">fabric</a>…) with <em>buildout</em> :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>python bootstrap.py
<span class="nv">$ </span>bin/buildout
</pre></div>
</div>
<p>Install <a class="reference external" href="https://github.com/mosaicxm/vagrant-hostmaster">vagrant-hostmaster</a> :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>vagrant gem install vagrant-hostmaster
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><a class="reference external" href="https://github.com/mosaicxm/vagrant-hostmaster">vagrant-hostmaster</a> is a Vagrant plugin to
manage <tt class="docutils literal"><span class="pre">/etc/hosts</span></tt> entries on both the host OS <strong>and</strong> guest VMs.</p>
<p>You can configure the hostname with this line in your <tt class="docutils literal"><span class="pre">Vagrantfile</span></tt></p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">host_name</span> <span class="o">=</span> <span class="s">&quot;vagrant.example.com&quot;</span>
<span class="n">config</span><span class="o">.</span><span class="n">hosts</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;vagrant.example.com&quot;</span>
<span class="n">config</span><span class="o">.</span><span class="n">hosts</span><span class="o">.</span><span class="n">aliases</span> <span class="o">=</span> <span class="s">&quot;example.com&quot;</span>
</pre></div>
</div>
</div>
<p>Download and start <em>vagrant</em> VM :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>vagrant up
</pre></div>
</div>
<p>You can test <em>ping</em> command on hostname configured by <em>vagrant-hostmaster</em> :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>ping example.com
PING example.com <span class="o">(</span>192.168.33.10<span class="o">)</span>: 56 data bytes
64 bytes from 192.168.33.10: <span class="nv">icmp_seq</span><span class="o">=</span>0 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.383 ms
64 bytes from 192.168.33.10: <span class="nv">icmp_seq</span><span class="o">=</span>1 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.462 ms
</pre></div>
</div>
<p>Execute <em>fabric</em> install :</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>bin/fab vagrant install
<span class="o">[</span>127.0.0.1<span class="o">]</span> Executing task <span class="s1">&#39;install&#39;</span>
<span class="o">[</span>127.0.0.1<span class="o">]</span> run: whoami
<span class="o">[</span>127.0.0.1<span class="o">]</span> out: root
<span class="o">[</span>127.0.0.1<span class="o">]</span> out:
</pre></div>
</div>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>In <tt class="docutils literal"><span class="pre">Vagrantfile</span></tt> I have set mac address :</p>
<div class="highlight-python"><pre>config.vm.network :hostonly, "192.168.33.10", :mac =&gt; "080027e5f699"</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <a href="http://github.com/https://github.com/harobed/vagrant-fabric-bootstrap/"><img style="position: fixed; top: 0; right: 0; border: 0;"
    src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  

  <div class="footer">
    &copy; Copyright 2013, <a href="http://stephane-klein.info">Stéphane Klein</a>.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  
  </div>
  

  </body>
</html>